(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[159],{1648:function(e,t,a){"use strict";a.r(t);a(534);var l=a(17),r=a(1),n=a(78),c=a(166),s=a(105),i=a(519),o=a.n(i),d=a(13),j=[{name:"Ba\u015fl\u0131k",sortable:!0,minWidth:"230px",sortField:"title",selector:function(e){return e.title},cell:function(e){return Object(d.jsx)("span",{className:"text-truncate  mb-0",children:e.title})}},{name:"Aciklama",sortable:!0,minWidth:"230px",sortField:"title",selector:function(e){return e.body},cell:function(e){return Object(d.jsx)("span",{className:"text-truncate  mb-0",children:e.body})}},{name:"Yarat\u0131lma Tarihi",minWidth:"230px",sortable:!0,sortField:"createdAt",selector:function(e){return e.createdAt},cell:function(e){return Object(d.jsx)("span",{className:"text-capitalize",children:o()(e.createdAt).format("DD/MM/YYYY HH:mm")})}},{name:"Sil",sortable:!1,minWidth:"300px",cell:function(e){return Object(d.jsx)(s.i.Ripple,{onClick:function(){return n.a.dispatch(Object(c.c)(e._id))},color:"flat-danger",children:"Sil"})}}],b=a(146),u=a(514),m=a.n(u),x=a(511),O=a.n(x),h=a(930),p=a(881),f=a(849),v=(a(512),a(521),a(12)),g=a(532),N=a(507),y=a(509),C=a(6),k=a.n(C),S=a(506),A=a(24),w=a(510),E=a.n(w),P=(a(525),{title:"",body:"",type:"all",expiresAt:null,isExpire:!1}),F=[{value:"all",label:"B\xfct\xfcn kullanicilar"},{value:"listener",label:"Dinleyiciler"},{value:"speaker",label:"Konusmacilar"}],T=function(e){var t=e.open,a=e.toggleSidebar,l=Object(b.b)(),r=Object(N.e)({defaultValues:P}),n=r.control,i=r.setValue,o=r.setError,j=r.watch,u=r.handleSubmit,m=(r.getValues,r.formState.errors),x=j("isExpire",!1);return Object(d.jsx)(g.a,{size:"lg",open:t,title:"Toplu bildirim yarat",headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:a,onClosed:function(){for(var e in P)i(e,"")},children:Object(d.jsxs)(s.H,{onSubmit:u((function(e){if(e.title.length>0&&e.body.length>0){var t=e.title,r=e.body,n=e.isExpire,s=e.type;console.log(e);var i=e.expiresAt;n||(i=null),l(Object(c.a)({title:t,body:r,expiresAt:i,userType:s,type:"all"})),a()}else for(var d in e)null!==e[d]&&0===e[d].length&&o(d,{type:"manual"})})),children:[Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsxs)(s.N,{className:"form-label",for:"fullName",children:["Ba\u015fl\u0131k ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(N.a,{name:"title",control:n,render:function(e){var t=e.field;return Object(d.jsx)(s.K,Object(v.a)({id:"title",placeholder:"Add title",invalid:m.title&&!0},t))}})]}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsxs)(s.N,{className:"form-label",for:"fullName",children:["Aciklama ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(N.a,{name:"body",control:n,render:function(e){var t=e.field;return Object(d.jsx)(s.K,Object(v.a)({id:"body",placeholder:"Add body",type:"textarea",invalid:m.body&&!0},t))}})]}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsxs)(s.N,{className:"form-label",for:"country",children:["Kullanici T\xfcr\xfc ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(N.a,{name:"type",control:n,render:function(e){var t=e.field;return Object(d.jsx)(y.a,Object(v.a)(Object(v.a)({},t),{},{isClearable:!1,classNamePrefix:"select",options:F,theme:S.i,id:"type",onChange:function(e){t.onChange(e.value)},className:k()("react-select"),value:null!==t&&void 0!==t&&t.value?Object(A.find)(F,(function(e){return e.value===t.value})):null}))}}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsxs)(s.N,{className:"form-label",for:"isExpire",children:["Gecerlilik tarihi ekle ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(N.a,{name:"isExpire",control:n,render:function(e){var t=e.field;return Object(d.jsxs)("div",{className:"form-check form-switch",children:[Object(d.jsx)(s.K,Object(v.a)({defaultChecked:t.value,type:"switch",name:"isExpire",id:"isExpire"},t)),Object(d.jsx)(s.N,{for:"exampleCustomSwitch",className:"form-check-label",children:"Gecerlilik tarihi ekle"})]})}})]}),x&&Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)(s.N,{className:"form-label",for:"expiresAt",children:"Gecerlilik Tarihi"}),Object(d.jsx)(N.a,{name:"expiresAt",control:n,render:function(e){var t=e.field;return Object(d.jsx)(E.a,{value:t.value,options:{minDate:"today",altInput:!0,altFormat:"j F Y",dateFormat:"d-m-y HH:mm"},id:"expiresAt",className:"form-control",onChange:function(e){return t.onChange(e)}})}})]})]}),Object(d.jsx)(s.i,{type:"submit",className:"me-1",color:"primary",children:"Olu\u015ftur"}),Object(d.jsx)(s.i,{type:"reset",color:"secondary",outline:!0,onClick:a,children:"\u0130ptal"})]})})},K={username:"",title:"",expiresAt:null,isExpire:!1},H=function(e){var t=e.open,a=e.toggleSidebar,n=Object(r.useState)(null),i=Object(l.a)(n,2),o=(i[0],i[1],Object(b.b)()),j=Object(N.e)({defaultValues:K}),u=j.control,m=j.setValue,x=j.setError,O=j.handleSubmit,h=j.watch,p=j.formState.errors,f=h("isExpire",!1);return Object(d.jsx)(g.a,{size:"lg",open:t,title:"Anket Olu\u015ftur",headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:a,onClosed:function(){for(var e in K)m(e,"")},children:Object(d.jsxs)(s.H,{onSubmit:O((function(e){if(e.title.length>0&&e.username.length>0){var t=e.title,l=e.body,r=e.isExpire,n=e.username,s=e.expiresAt;r||(s=null),o(Object(c.a)({title:t,body:l,expiresAt:s,username:n,type:"username"})),a()}else for(var i in e)null!==e[i]&&0===e[i].length&&x(i,{type:"manual"})})),children:[Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsxs)(s.N,{className:"form-label",for:"username",children:["Kullanici Adi ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(N.a,{name:"username",control:u,render:function(e){var t=e.field;return Object(d.jsx)(s.K,Object(v.a)({id:"username",placeholder:"Add username",invalid:p.username&&!0},t))}})]}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsxs)(s.N,{className:"form-label",for:"fullName",children:["Ba\u015fl\u0131k ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(N.a,{name:"title",control:u,render:function(e){var t=e.field;return Object(d.jsx)(s.K,Object(v.a)({id:"title",placeholder:"Add title",invalid:p.title&&!0},t))}})]}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsxs)(s.N,{className:"form-label",for:"fullName",children:["Aciklama ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(N.a,{name:"body",control:u,render:function(e){var t=e.field;return Object(d.jsx)(s.K,Object(v.a)({id:"body",placeholder:"Add body",type:"textarea",invalid:p.body&&!0},t))}})]}),Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsxs)(s.N,{className:"form-label",for:"isExpire",children:["Gecerlilik tarihi ekle ",Object(d.jsx)("span",{className:"text-danger",children:"*"})]}),Object(d.jsx)(N.a,{name:"isExpire",control:u,render:function(e){var t=e.field;return Object(d.jsxs)("div",{className:"form-check form-switch",children:[Object(d.jsx)(s.K,Object(v.a)({defaultChecked:t.value,type:"switch",name:"isExpire",id:"isExpire"},t)),Object(d.jsx)(s.N,{for:"exampleCustomSwitch",className:"form-check-label",children:"Gecerlilik tarihi ekle"})]})}})]}),f&&Object(d.jsxs)("div",{className:"mb-1",children:[Object(d.jsx)(s.N,{className:"form-label",for:"expiresAt",children:"Gecerlilik Tarihi"}),Object(d.jsx)(N.a,{name:"expiresAt",control:u,render:function(e){var t=e.field;return Object(d.jsx)(E.a,{value:t.value,options:{minDate:"today",altInput:!0,altFormat:"j F Y",dateFormat:"d-m-y HH:mm"},id:"expiresAt",className:"form-control",onChange:function(e){return t.onChange(e)}})}})]}),Object(d.jsx)(s.i,{type:"submit",className:"me-1",color:"primary",children:"Olu\u015ftur"}),Object(d.jsx)(s.i,{type:"reset",color:"secondary",outline:!0,onClick:a,children:"\u0130ptal"})]})})},B=function(e){var t=e.store,a=e.toggleUsernameNotificationSidebar,l=e.toggleCreateAllNotificationSidebar,r=e.handlePerPage,n=e.rowsPerPage,c=e.handleFilter,i=e.searchTerm;function o(e){var a=document.createElement("a"),l=function(e){var a,l=Object.keys(t.data[0]);return a="",a+=l.join(","),a+="\n",e.forEach((function(e){var t=0;l.forEach((function(l){t>0&&(a+=","),a+=e[l],t++})),a+="\n"})),a}(e);if(null!==l){l.match(/^data:text\/csv/i)||(l="data:text/csv;charset=utf-8,".concat(l)),a.setAttribute("href",encodeURI(l)),a.setAttribute("download","export.csv"),a.click()}}return Object(d.jsx)("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:Object(d.jsxs)(s.ib,{children:[Object(d.jsx)(s.B,{xl:"6",className:"d-flex align-items-center p-0",children:Object(d.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(d.jsx)("label",{htmlFor:"rows-per-page",children:"Sayfa Ba\u015f\u0131na"}),Object(d.jsxs)(s.K,{className:"mx-50",type:"select",id:"rows-per-page",value:n,onChange:r,style:{width:"5rem"},children:[Object(d.jsx)("option",{value:"10",children:"10"}),Object(d.jsx)("option",{value:"25",children:"25"}),Object(d.jsx)("option",{value:"50",children:"50"})]}),Object(d.jsx)("label",{htmlFor:"rows-per-page",children:"\xd6\u011fe"})]})}),Object(d.jsxs)(s.B,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[Object(d.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[Object(d.jsx)("label",{className:"mb-0",htmlFor:"search-invoice",children:"Ara:"}),Object(d.jsx)(s.K,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:i,onChange:function(e){return c(e.target.value)}})]}),Object(d.jsxs)("div",{className:"d-flex align-items-center table-header-actions",children:[Object(d.jsxs)(s.wb,{className:"me-1",children:[Object(d.jsxs)(s.G,{color:"secondary",caret:!0,outline:!0,children:[Object(d.jsx)(h.a,{className:"font-small-4 me-50"}),Object(d.jsx)("span",{className:"align-middle",children:"Export"})]}),Object(d.jsx)(s.F,{children:Object(d.jsxs)(s.E,{className:"w-100",onClick:function(){return o(t.data)},children:[Object(d.jsx)(p.a,{className:"font-small-4 me-50"}),Object(d.jsx)("span",{className:"align-middle",children:"CSV"})]})})]}),Object(d.jsx)(s.i,{className:"add-new-user mx-4",color:"primary",onClick:a,children:"Tekli Bildirim Yarat"}),Object(d.jsx)(s.i,{className:"add-new-user",color:"primary",onClick:l,children:"Toplu Bildirim Yarat"})]})]})]})})},Y=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.alohaNotifications}));console.log(t);var a=Object(r.useState)("desc"),n=Object(l.a)(a,2),i=n[0],o=n[1],u=Object(r.useState)(""),x=Object(l.a)(u,2),h=x[0],p=x[1],v=Object(r.useState)(1),g=Object(l.a)(v,2),N=g[0],y=g[1],C=Object(r.useState)("id"),k=Object(l.a)(C,2),S=k[0],A=k[1],w=Object(r.useState)(10),E=Object(l.a)(w,2),P=E[0],F=E[1],K=Object(r.useState)(!1),Y=Object(l.a)(K,2),G=Y[0],q=Y[1],D=Object(r.useState)(!1),V=Object(l.a)(D,2),I=V[0],L=V[1],W=Object(r.useState)(!1),z=Object(l.a)(W,2),M=z[0],R=z[1],U=Object(r.useState)(!1),J=Object(l.a)(U,2),_=(J[0],J[1],Object(r.useState)({value:"",label:"Select Role"})),Q=Object(l.a)(_,2),X=Q[0],Z=(Q[1],Object(r.useState)({value:"",label:"Select Plan"})),$=Object(l.a)(Z,2),ee=$[0],te=($[1],Object(r.useState)({value:"",label:"Select Status",number:0})),ae=Object(l.a)(te,2),le=ae[0],re=(ae[1],function(){return L(!I)}),ne=function(){return R(!M)};Object(r.useEffect)((function(){e(Object(c.d)()).then((function(){e(Object(c.e)({sort:i,sortColumn:S,q:h,page:N,perPage:P,role:X.value,status:le.value,currentPlan:ee.value}))}))}),[e,t.data.length,i,S,N]);return Object(d.jsxs)(r.Fragment,{children:[Object(d.jsx)(s.l,{className:"overflow-hidden",children:Object(d.jsx)("div",{className:"react-dataTable",children:Object(d.jsx)(O.a,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:j,onSort:function(t,a){o(a),A(t.sortField),e(Object(c.e)({sort:i,sortColumn:S,q:h,page:N,perPage:P,role:X.value,status:le.value,currentPlan:ee.value}))},sortIcon:Object(d.jsx)(f.a,{}),className:"react-dataTable",paginationComponent:function(){var a=Number(Math.ceil(t.total/P));return Object(d.jsx)(m.a,{previousLabel:"",nextLabel:"",pageCount:a||1,activeClassName:"active",forcePage:0!==N?N-1:0,onPageChange:function(t){return function(t){e(Object(c.e)({sort:i,sortColumn:S,q:h,perPage:P,page:t.selected+1,role:X.value,status:le.value,currentPlan:ee.value})),y(t.selected+1)}(t)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},data:function(){var e={q:h},a=Object.keys(e).some((function(t){return e[t].length>0}));return t.data.length>0?t.data:0===t.data.length&&a?[]:t.allData.slice(0,P)}(),subHeaderComponent:Object(d.jsx)(B,{store:t,searchTerm:h,rowsPerPage:P,handleFilter:function(t){p(t),e(Object(c.e)({sort:i,q:t,sortColumn:S,page:N,perPage:P,role:X.value,status:le.value,currentPlan:ee.value}))},handlePerPage:function(t){var a=parseInt(t.currentTarget.value);e(Object(c.e)({sort:i,sortColumn:S,q:h,perPage:a,page:N,role:X.value,currentPlan:ee.value,status:le.value})),F(a)},toggleSidebar:function(){return q(!G)},toggleCreateAllNotificationSidebar:re,toggleUsernameNotificationSidebar:ne})})})}),Object(d.jsx)(T,{open:I,toggleSidebar:re}),Object(d.jsx)(H,{open:M,toggleSidebar:ne})]})};t.default=function(){return Object(d.jsx)("div",{className:"app-user-list",children:Object(d.jsx)(Y,{})})}}}]);